<?php
/**
 * 
 * 接收订单中心推送物流状态
 * @author Administrator
 *
 */
class ControllerApiReceivetracking extends Controller {
    private $fails  = array();
    public function index(){
        //$_POST['EData'] = '%7B%22appid%22%3A%22C10FA53473B08392154C43823B5E7DE8%22%2C%22Orders%22%3A%5B%7B%22LogID%22%3A%222643702%22%2C%22TrackingID%22%3A%22WSE1012662425%22%2C%22OrderID%22%3A%22LG4551-3%22%2C%22ExpressNo%22%3A%225530020278805%22%2C%22Status%22%3A%2212.1%22%2C%22Createtime%22%3A%222016-08-15+20%3A25%3A05%22%2C%22Remark%22%3A%22%5Cu7531%5Cu3010%5Cu603b%5Cu516c%5Cu53f8%5Cu56fd%5Cu9645%5Cu4e8b%5Cu4e1a%5Cu90e8%5Cu3011%5Cu53d1%5Cu5f80%5Cu3010%5Cu4e0a%5Cu6d77%5Cu822a%5Cu7a7a%5Cu90e8%5Cu3011%22%7D%2C%7B%22LogID%22%3A%222643703%22%2C%22TrackingID%22%3A%22WSE1012662425%22%2C%22OrderID%22%3A%22LG4551-3%22%2C%22ExpressNo%22%3A%225530020278805%22%2C%22Status%22%3A%2212.1%22%2C%22Createtime%22%3A%222016-08-15+20%3A25%3A27%22%2C%22Remark%22%3A%22%5Cu5feb%5Cu4ef6%5Cu5df2%5Cu5230%5Cu8fbe%5Cu3010%5Cu603b%5Cu516c%5Cu53f8%5Cu56fd%5Cu9645%5Cu4e8b%5Cu4e1a%5Cu90e8%5Cu3011%22%7D%2C%7B%22LogID%22%3A%222643704%22%2C%22TrackingID%22%3A%22WSE1012662425%22%2C%22OrderID%22%3A%22LG4551-3%22%2C%22ExpressNo%22%3A%225530020278805%22%2C%22Status%22%3A%2212.1%22%2C%22Createtime%22%3A%222016-08-16+01%3A10%3A53%22%2C%22Remark%22%3A%22%5Cu7531%5Cu3010%5Cu4e0a%5Cu6d77%5Cu4e2d%5Cu8f6c%5Cu90e8%5Cu3011%5Cu53d1%5Cu5f80%5Cu3010%5Cu4e0a%5Cu6d77%5Cu822a%5Cu7a7a%5Cu90e8%5Cu3011%22%7D%2C%7B%22LogID%22%3A%222643705%22%2C%22TrackingID%22%3A%22WSE1012662425%22%2C%22OrderID%22%3A%22LG4551-3%22%2C%22ExpressNo%22%3A%225530020278805%22%2C%22Status%22%3A%2212.1%22%2C%22Createtime%22%3A%222016-08-16+05%3A33%3A25%22%2C%22Remark%22%3A%22%5Cu5feb%5Cu4ef6%5Cu5df2%5Cu5230%5Cu8fbe%5Cu3010%5Cu4e0a%5Cu6d77%5Cu822a%5Cu7a7a%5Cu90e8%5Cu3011%22%7D%2C%7B%22LogID%22%3A%222643706%22%2C%22TrackingID%22%3A%22WSE1012662425%22%2C%22OrderID%22%3A%22LG4551-3%22%2C%22ExpressNo%22%3A%225530020278805%22%2C%22Status%22%3A%2212.1%22%2C%22Createtime%22%3A%222016-08-16+06%3A52%3A09%22%2C%22Remark%22%3A%22%5Cu3010%5Cu4e0a%5Cu6d77%5Cu822a%5Cu7a7a%5Cu90e8%5Cu3011%5Cu6b63%5Cu5728%5Cu8fdb%5Cu884c%5Cu3010%5Cu53d1%5Cu5305%5Cu3011%5Cu626b%5Cu63cf%22%7D%2C%7B%22LogID%22%3A%222643707%22%2C%22TrackingID%22%3A%22WSE1012662425%22%2C%22OrderID%22%3A%22LG4551-3%22%2C%22ExpressNo%22%3A%225530020278805%22%2C%22Status%22%3A%2212.1%22%2C%22Createtime%22%3A%222016-08-17+11%3A13%3A31%22%2C%22Remark%22%3A%22%5Cu5feb%5Cu4ef6%5Cu5df2%5Cu5230%5Cu8fbe%5Cu3010%5Cu9655%5Cu897f%5Cu897f%5Cu5b89%5Cu4e2d%5Cu8f6c%5Cu90e8%5Cu3011%22%7D%2C%7B%22LogID%22%3A%222643708%22%2C%22TrackingID%22%3A%22WSE1012662425%22%2C%22OrderID%22%3A%22LG4551-3%22%2C%22ExpressNo%22%3A%225530020278805%22%2C%22Status%22%3A%2212.1%22%2C%22Createtime%22%3A%222016-08-17+11%3A21%3A33%22%2C%22Remark%22%3A%22%5Cu7531%5Cu3010%5Cu9655%5Cu897f%5Cu897f%5Cu5b89%5Cu4e2d%5Cu8f6c%5Cu90e8%5Cu3011%5Cu53d1%5Cu5f80%5Cu3010%5Cu9655%5Cu897f%5Cu897f%5Cu5b89%5Cu5317%5Cu90ca%5Cu4e00%5Cu3011%22%7D%2C%7B%22LogID%22%3A%222643709%22%2C%22TrackingID%22%3A%22WSE1012662425%22%2C%22OrderID%22%3A%22LG4551-3%22%2C%22ExpressNo%22%3A%225530020278805%22%2C%22Status%22%3A%2212.1%22%2C%22Createtime%22%3A%222016-08-17+12%3A23%3A54%22%2C%22Remark%22%3A%22%5Cu7531%5Cu3010%5Cu9655%5Cu897f%5Cu897f%5Cu5b89%5Cu4e2d%5Cu8f6c%5Cu90e8%5Cu3011%5Cu53d1%5Cu5f80%5Cu3010%5Cu9655%5Cu897f%5Cu957f%5Cu5b89%5Cu4e00%5Cu5206%5Cu90e8%5Cu3011%22%7D%2C%7B%22LogID%22%3A%222643710%22%2C%22TrackingID%22%3A%22WSE1012662425%22%2C%22OrderID%22%3A%22LG4551-3%22%2C%22ExpressNo%22%3A%225530020278805%22%2C%22Status%22%3A%2212.1%22%2C%22Createtime%22%3A%222016-08-17+14%3A32%3A53%22%2C%22Remark%22%3A%22%5Cu5feb%5Cu4ef6%5Cu5df2%5Cu5230%5Cu8fbe%5Cu3010%5Cu9655%5Cu897f%5Cu957f%5Cu5b89%5Cu4e00%5Cu5206%5Cu90e8%5Cu3011%22%7D%2C%7B%22LogID%22%3A%222643711%22%2C%22TrackingID%22%3A%22WSE1012662425%22%2C%22OrderID%22%3A%22LG4551-3%22%2C%22ExpressNo%22%3A%225530020278805%22%2C%22Status%22%3A%2212.1%22%2C%22Createtime%22%3A%222016-08-18+10%3A11%3A26%22%2C%22Remark%22%3A%22%5Cu3010%5Cu9655%5Cu897f%5Cu957f%5Cu5b89%5Cu4e00%5Cu5206%5Cu90e8%5Cu3011%5Cu7684%5Cu6d3e%5Cu4ef6%5Cu5458%5Cu3010%5Cu6b27%5Cu4e9a%5Cu5b66%5Cu9662%5Cu3011%5Cu6b63%5Cu5728%5Cu6d3e%5Cu4ef6%22%7D%2C%7B%22LogID%22%3A%222644082%22%2C%22TrackingID%22%3A%22WSE1012657245%22%2C%22OrderID%22%3A%224640%22%2C%22ExpressNo%22%3A%225530020267847%22%2C%22Status%22%3A%2212.1%22%2C%22Createtime%22%3A%222016-08-19+07%3A47%3A54%22%2C%22Remark%22%3A%22%5Cu3010%5Cu91cd%5Cu5e86%5Cu65b0%5Cu724c%5Cu574a%5Cu516c%5Cu53f8%5Cu3011%5Cu7684%5Cu6d3e%5Cu4ef6%5Cu5458%5Cu3010%5Cu96f7%5Cu5f3a%5Cu3011%5Cu6b63%5Cu5728%5Cu6d3e%5Cu4ef6%22%7D%2C%7B%22LogID%22%3A%222643712%22%2C%22TrackingID%22%3A%22WSE1012662425%22%2C%22OrderID%22%3A%22LG4551-3%22%2C%22ExpressNo%22%3A%225530020278805%22%2C%22Status%22%3A%2212.1%22%2C%22Createtime%22%3A%222016-08-19+11%3A56%3A42%22%2C%22Remark%22%3A%22%5Cu3010%5Cu9655%5Cu897f%5Cu957f%5Cu5b89%5Cu4e00%5Cu5206%5Cu90e8%5Cu3011%5Cu6b63%5Cu5728%5Cu8fdb%5Cu884c%5Cu3010%5Cu7591%5Cu96be%5Cu4ef6%5Cu3011%5Cu626b%5Cu63cf%2C%5Cu539f%5Cu56e0%5Cu662f%5Cuff1a%5Cu3010%5Cu5b66%5Cu6821%5Cu81ea%5Cu53d6%5Cu4ef6%5Cu3011%22%7D%2C%7B%22LogID%22%3A%222644083%22%2C%22TrackingID%22%3A%22WSE1012657245%22%2C%22OrderID%22%3A%224640%22%2C%22ExpressNo%22%3A%225530020267847%22%2C%22Status%22%3A%2212.1%22%2C%22Createtime%22%3A%222016-08-19+13%3A28%3A26%22%2C%22Remark%22%3A%22%5Cu3010%5Cu91cd%5Cu5e86%5Cu65b0%5Cu724c%5Cu574a%5Cu516c%5Cu53f8%5Cu3011%5Cu7684%5Cu6d3e%5Cu4ef6%5Cu5458%5Cu3010%5Cu97e9%5Cu52c7%5Cu5c0f%5Cu533a%5Cu4ef6%5Cu3011%5Cu6b63%5Cu5728%5Cu6d3e%5Cu4ef6%22%7D%2C%7B%22LogID%22%3A%222644084%22%2C%22TrackingID%22%3A%22WSE1012657245%22%2C%22OrderID%22%3A%224640%22%2C%22ExpressNo%22%3A%225530020267847%22%2C%22Status%22%3A%2212.1%22%2C%22Createtime%22%3A%222016-08-19+17%3A39%3A02%22%2C%22Remark%22%3A%22%5Cu5df2%5Cu7b7e%5Cu6536%2C%5Cu7b7e%5Cu6536%5Cu4eba%5Cu662f%3A%5Cu3010%5Cu901f%5Cu9012%5Cu6613%5Cu3011%22%7D%2C%7B%22LogID%22%3A%222643713%22%2C%22TrackingID%22%3A%22WSE1012662425%22%2C%22OrderID%22%3A%22LG4551-3%22%2C%22ExpressNo%22%3A%225530020278805%22%2C%22Status%22%3A%2212.1%22%2C%22Createtime%22%3A%222016-08-20+13%3A27%3A17%22%2C%22Remark%22%3A%22%5Cu3010%5Cu9655%5Cu897f%5Cu957f%5Cu5b89%5Cu4e00%5Cu5206%5Cu90e8%5Cu3011%5Cu6b63%5Cu5728%5Cu8fdb%5Cu884c%5Cu3010%5Cu7591%5Cu96be%5Cu4ef6%5Cu3011%5Cu626b%5Cu63cf%2C%5Cu539f%5Cu56e0%5Cu662f%5Cuff1a%5Cu3010%5Cu5ba2%5Cu6237%5Cu8981%5Cu6c42%5Cu66f4%5Cu6539%5Cu5730%5Cu5740%2C%5Cu65f6%5Cu95f4%5Cu9001%5Cu3011%22%7D%2C%7B%22LogID%22%3A%222643722%22%2C%22TrackingID%22%3A%22WSE1012660373%22%2C%22OrderID%22%3A%223405%22%2C%22ExpressNo%22%3A%225530020269469%22%2C%22Status%22%3A%2212.1%22%2C%22Createtime%22%3A%222016-08-20+15%3A43%3A49%22%2C%22Remark%22%3A%22%5Cu3010%5Cu5e7f%5Cu4e1c%5Cu4ece%5Cu5316%5Cu516c%5Cu53f8%5Cu3011%5Cu6b63%5Cu5728%5Cu8fdb%5Cu884c%5Cu3010%5Cu7591%5Cu96be%5Cu4ef6%5Cu3011%5Cu626b%5Cu63cf%2C%5Cu539f%5Cu56e0%5Cu662f%5Cuff1a%5Cu3010%5Cu7535%5Cu8bdd%5Cu9519%5Cu8bef%2C%5Cu7a7a%5Cu53f7%2C%5Cu505c%5Cu673a%5Cu3011%22%7D%2C%7B%22LogID%22%3A%222678882%22%2C%22TrackingID%22%3A%22WSE1012692245%22%2C%22OrderID%22%3A%226303%22%2C%22ExpressNo%22%3A%225530020298888%22%2C%22Status%22%3A%223%22%2C%22Createtime%22%3A%222016-08-22+17%3A55%3A04%22%2C%22Remark%22%3A%22%5B%5Cu7f8e%5Cu56fd%5Cu4ed3%5D%5Cu60a8%5Cu7684%5Cu5b9d%5Cu8d1d%5Cu6b63%5Cu5728%5Cu5907%5Cu8d27%5Cu4e2d%22%7D%2C%7B%22LogID%22%3A%222674134%22%2C%22TrackingID%22%3A%22WSE1012673721%22%2C%22OrderID%22%3A%226047%22%2C%22ExpressNo%22%3A%22807549911620%22%2C%22Status%22%3A%2212.1%22%2C%22Createtime%22%3A%222016-08-22+19%3A56%3A36%22%2C%22Remark%22%3A%22%5Cu3010%5Cu4e0a%5Cu6d77%5Cu5e02%5Cu6d66%5Cu4e1c%5Cu673a%5Cu573a%5Cu516c%5Cu53f8%5Cu3011+%5Cu5df2%5Cu6536%5Cu4ef6%22%7D%2C%7B%22LogID%22%3A%222676706%22%2C%22TrackingID%22%3A%22WSE1012675854%22%2C%22OrderID%22%3A%226328%22%2C%22ExpressNo%22%3A%22807549912097%22%2C%22Status%22%3A%2212.1%22%2C%22Createtime%22%3A%222016-08-22+20%3A03%3A26%22%2C%22Remark%22%3A%22%5Cu3010%5Cu4e0a%5Cu6d77%5Cu5e02%5Cu6d66%5Cu4e1c%5Cu673a%5Cu573a%5Cu516c%5Cu53f8%5Cu3011+%5Cu5df2%5Cu53d1%5Cu51fa+%5Cu4e0b%5Cu4e00%5Cu7ad9+%5Cu3010%5Cu6d66%5Cu4e1c%5Cu8f6c%5Cu8fd0%5Cu4e2d%5Cu5fc3%5Cu3011%22%7D%2C%7B%22LogID%22%3A%222674131%22%2C%22TrackingID%22%3A%22WSE1012674373%22%2C%22OrderID%22%3A%226182%22%2C%22ExpressNo%22%3A%22807549911919%22%2C%22Status%22%3A%2212.1%22%2C%22Createtime%22%3A%222016-08-22+20%3A03%3A26%22%2C%22Remark%22%3A%22%5Cu3010%5Cu4e0a%5Cu6d77%5Cu5e02%5Cu6d66%5Cu4e1c%5Cu673a%5Cu573a%5Cu516c%5Cu53f8%5Cu3011+%5Cu5df2%5Cu53d1%5Cu51fa+%5Cu4e0b%5Cu4e00%5Cu7ad9+%5Cu3010%5Cu6d66%5Cu4e1c%5Cu8f6c%5Cu8fd0%5Cu4e2d%5Cu5fc3%5Cu3011%22%7D%2C%7B%22LogID%22%3A%222674135%22%2C%22TrackingID%22%3A%22WSE1012673721%22%2C%22OrderID%22%3A%226047%22%2C%22ExpressNo%22%3A%22807549911620%22%2C%22Status%22%3A%2212.1%22%2C%22Createtime%22%3A%222016-08-22+20%3A13%3A42%22%2C%22Remark%22%3A%22%5Cu3010%5Cu4e0a%5Cu6d77%5Cu5e02%5Cu6d66%5Cu4e1c%5Cu673a%5Cu573a%5Cu516c%5Cu53f8%5Cu3011+%5Cu5df2%5Cu6253%5Cu5305%22%7D%2C%7B%22LogID%22%3A%222674136%22%2C%22TrackingID%22%3A%22WSE1012673721%22%2C%22OrderID%22%3A%226047%22%2C%22ExpressNo%22%3A%22807549911620%22%2C%22Status%22%3A%2212.1%22%2C%22Createtime%22%3A%222016-08-22+20%3A17%3A03%22%2C%22Remark%22%3A%22%5Cu3010%5Cu4e0a%5Cu6d77%5Cu5e02%5Cu6d66%5Cu4e1c%5Cu673a%5Cu573a%5Cu516c%5Cu53f8%5Cu3011+%5Cu5df2%5Cu53d1%5Cu51fa+%5Cu4e0b%5Cu4e00%5Cu7ad9+%5Cu3010%5Cu6d66%5Cu4e1c%5Cu8f6c%5Cu8fd0%5Cu4e2d%5Cu5fc3%5Cu3011%22%7D%2C%7B%22LogID%22%3A%222676888%22%2C%22TrackingID%22%3A%22WSE1012673080%22%2C%22OrderID%22%3A%225969%22%2C%22ExpressNo%22%3A%22807549911506%22%2C%22Status%22%3A%2212.1%22%2C%22Createtime%22%3A%222016-08-22+20%3A34%3A23%22%2C%22Remark%22%3A%22%5Cu3010%5Cu4e0a%5Cu6d77%5Cu5e02%5Cu6d66%5Cu4e1c%5Cu673a%5Cu573a%5Cu516c%5Cu53f8%5Cu3011+%5Cu5df2%5Cu53d1%5Cu51fa+%5Cu4e0b%5Cu4e00%5Cu7ad9+%5Cu3010%5Cu6d66%5Cu4e1c%5Cu8f6c%5Cu8fd0%5Cu4e2d%5Cu5fc3%5Cu3011%22%7D%2C%7B%22LogID%22%3A%222674132%22%2C%22TrackingID%22%3A%22WSE1012674373%22%2C%22OrderID%22%3A%226182%22%2C%22ExpressNo%22%3A%22807549911919%22%2C%22Status%22%3A%2212.1%22%2C%22Createtime%22%3A%222016-08-22+20%3A52%3A50%22%2C%22Remark%22%3A%22%5Cu3010%5Cu6d66%5Cu4e1c%5Cu8f6c%5Cu8fd0%5Cu4e2d%5Cu5fc3%5Cu3011+%5Cu5df2%5Cu6536%5Cu5165%22%7D%2C%7B%22LogID%22%3A%222676707%22%2C%22TrackingID%22%3A%22WSE1012675854%22%2C%22OrderID%22%3A%226328%22%2C%22ExpressNo%22%3A%22807549912097%22%2C%22Status%22%3A%2212.1%22%2C%22Createtime%22%3A%222016-08-22+20%3A52%3A50%22%2C%22Remark%22%3A%22%5Cu3010%5Cu6d66%5Cu4e1c%5Cu8f6c%5Cu8fd0%5Cu4e2d%5Cu5fc3%5Cu3011+%5Cu5df2%5Cu6536%5Cu5165%22%7D%2C%7B%22LogID%22%3A%222674133%22%2C%22TrackingID%22%3A%22WSE1012674373%22%2C%22OrderID%22%3A%226182%22%2C%22ExpressNo%22%3A%22807549911919%22%2C%22Status%22%3A%2212.1%22%2C%22Createtime%22%3A%222016-08-22+20%3A55%3A19%22%2C%22Remark%22%3A%22%5Cu3010%5Cu6d66%5Cu4e1c%5Cu8f6c%5Cu8fd0%5Cu4e2d%5Cu5fc3%5Cu3011+%5Cu5df2%5Cu53d1%5Cu51fa+%5Cu4e0b%5Cu4e00%5Cu7ad9+%5Cu3010%5Cu4e0a%5Cu6d77%5Cu8f6c%5Cu8fd0%5Cu4e2d%5Cu5fc3%5Cu3011%22%7D%2C%7B%22LogID%22%3A%222676708%22%2C%22TrackingID%22%3A%22WSE1012675854%22%2C%22OrderID%22%3A%226328%22%2C%22ExpressNo%22%3A%22807549912097%22%2C%22Status%22%3A%2212.1%22%2C%22Createtime%22%3A%222016-08-22+20%3A55%3A19%22%2C%22Remark%22%3A%22%5Cu3010%5Cu6d66%5Cu4e1c%5Cu8f6c%5Cu8fd0%5Cu4e2d%5Cu5fc3%5Cu3011+%5Cu5df2%5Cu53d1%5Cu51fa+%5Cu4e0b%5Cu4e00%5Cu7ad9+%5Cu3010%5Cu4e0a%5Cu6d77%5Cu8f6c%5Cu8fd0%5Cu4e2d%5Cu5fc3%5Cu3011%22%7D%2C%7B%22LogID%22%3A%222676886%22%2C%22TrackingID%22%3A%22WSE1012672704%22%2C%22OrderID%22%3A%225936%22%2C%22ExpressNo%22%3A%22807549911446%22%2C%22Status%22%3A%2212.1%22%2C%22Createtime%22%3A%222016-08-22+21%3A36%3A10%22%2C%22Remark%22%3A%22%5Cu3010%5Cu6d66%5Cu4e1c%5Cu8f6c%5Cu8fd0%5Cu4e2d%5Cu5fc3%5Cu3011+%5Cu5df2%5Cu53d1%5Cu51fa+%5Cu4e0b%5Cu4e00%5Cu7ad9+%5Cu3010%5Cu6e29%5Cu5dde%5Cu8f6c%5Cu8fd0%5Cu4e2d%5Cu5fc3%5Cu3011%22%7D%2C%7B%22LogID%22%3A%222676887%22%2C%22TrackingID%22%3A%22WSE1012672704%22%2C%22OrderID%22%3A%225936%22%2C%22ExpressNo%22%3A%22807549911446%22%2C%22Status%22%3A%2212.1%22%2C%22Createtime%22%3A%222016-08-22+21%3A36%3A40%22%2C%22Remark%22%3A%22%5Cu3010%5Cu6d66%5Cu4e1c%5Cu8f6c%5Cu8fd0%5Cu4e2d%5Cu5fc3%5Cu3011+%5Cu5df2%5Cu6536%5Cu5165%22%7D%2C%7B%22LogID%22%3A%222676892%22%2C%22TrackingID%22%3A%22WSE1012672914%22%2C%22OrderID%22%3A%225952%22%2C%22ExpressNo%22%3A%22807549911471%22%2C%22Status%22%3A%2212.1%22%2C%22Createtime%22%3A%222016-08-22+21%3A37%3A01%22%2C%22Remark%22%3A%22%5Cu3010%5Cu6d66%5Cu4e1c%5Cu8f6c%5Cu8fd0%5Cu4e2d%5Cu5fc3%5Cu3011+%5Cu5df2%5Cu53d1%5Cu51fa+%5Cu4e0b%5Cu4e00%5Cu7ad9+%5Cu3010%5Cu6e29%5Cu5dde%5Cu8f6c%5Cu8fd0%5Cu4e2d%5Cu5fc3%5Cu3011%22%7D%2C%7B%22LogID%22%3A%222676893%22%2C%22TrackingID%22%3A%22WSE1012672914%22%2C%22OrderID%22%3A%225952%22%2C%22ExpressNo%22%3A%22807549911471%22%2C%22Status%22%3A%2212.1%22%2C%22Createtime%22%3A%222016-08-22+21%3A37%3A33%22%2C%22Remark%22%3A%22%5Cu3010%5Cu6d66%5Cu4e1c%5Cu8f6c%5Cu8fd0%5Cu4e2d%5Cu5fc3%5Cu3011+%5Cu5df2%5Cu6536%5Cu5165%22%7D%2C%7B%22LogID%22%3A%222676889%22%2C%22TrackingID%22%3A%22WSE1012673080%22%2C%22OrderID%22%3A%225969%22%2C%22ExpressNo%22%3A%22807549911506%22%2C%22Status%22%3A%2212.1%22%2C%22Createtime%22%3A%222016-08-22+22%3A35%3A14%22%2C%22Remark%22%3A%22%5Cu3010%5Cu6d66%5Cu4e1c%5Cu8f6c%5Cu8fd0%5Cu4e2d%5Cu5fc3%5Cu3011+%5Cu5df2%5Cu6536%5Cu5165%22%7D%2C%7B%22LogID%22%3A%222676702%22%2C%22TrackingID%22%3A%22WSE1012675666%22%2C%22OrderID%22%3A%226265%22%2C%22ExpressNo%22%3A%22807549912089%22%2C%22Status%22%3A%2212.1%22%2C%22Createtime%22%3A%222016-08-22+22%3A40%3A12%22%2C%22Remark%22%3A%22%5Cu3010%5Cu6d66%5Cu4e1c%5Cu8f6c%5Cu8fd0%5Cu4e2d%5Cu5fc3%5Cu3011+%5Cu5df2%5Cu6536%5Cu5165%22%7D%2C%7B%22LogID%22%3A%222676882%22%2C%22TrackingID%22%3A%22WSE1012672693%22%2C%22OrderID%22%3A%225935%22%2C%22ExpressNo%22%3A%22807549911436%22%2C%22Status%22%3A%2212.1%22%2C%22Createtime%22%3A%222016-08-22+22%3A40%3A12%22%2C%22Remark%22%3A%22%5Cu3010%5Cu6d66%5Cu4e1c%5Cu8f6c%5Cu8fd0%5Cu4e2d%5Cu5fc3%5Cu3011+%5Cu5df2%5Cu6536%5Cu5165%22%7D%2C%7B%22LogID%22%3A%222676890%22%2C%22TrackingID%22%3A%22WSE1012673080%22%2C%22OrderID%22%3A%225969%22%2C%22ExpressNo%22%3A%22807549911506%22%2C%22Status%22%3A%2212.1%22%2C%22Createtime%22%3A%222016-08-22+22%3A41%3A11%22%2C%22Remark%22%3A%22%5Cu3010%5Cu6d66%5Cu4e1c%5Cu8f6c%5Cu8fd0%5Cu4e2d%5Cu5fc3%5Cu3011+%5Cu5df2%5Cu53d1%5Cu51fa+%5Cu4e0b%5Cu4e00%5Cu7ad9+%5Cu3010%5Cu798f%5Cu5dde%5Cu8f6c%5Cu8fd0%5Cu4e2d%5Cu5fc3%5Cu3011%22%7D%2C%7B%22LogID%22%3A%222676703%22%2C%22TrackingID%22%3A%22WSE1012675666%22%2C%22OrderID%22%3A%226265%22%2C%22ExpressNo%22%3A%22807549912089%22%2C%22Status%22%3A%2212.1%22%2C%22Createtime%22%3A%222016-08-22+22%3A42%3A33%22%2C%22Remark%22%3A%22%5Cu3010%5Cu6d66%5Cu4e1c%5Cu8f6c%5Cu8fd0%5Cu4e2d%5Cu5fc3%5Cu3011+%5Cu5df2%5Cu53d1%5Cu51fa+%5Cu4e0b%5Cu4e00%5Cu7ad9+%5Cu3010%5Cu4e0a%5Cu6d77%5Cu8f6c%5Cu8fd0%5Cu4e2d%5Cu5fc3%5Cu3011%22%7D%2C%7B%22LogID%22%3A%222676883%22%2C%22TrackingID%22%3A%22WSE1012672693%22%2C%22OrderID%22%3A%225935%22%2C%22ExpressNo%22%3A%22807549911436%22%2C%22Status%22%3A%2212.1%22%2C%22Createtime%22%3A%222016-08-22+22%3A42%3A33%22%2C%22Remark%22%3A%22%5Cu3010%5Cu6d66%5Cu4e1c%5Cu8f6c%5Cu8fd0%5Cu4e2d%5Cu5fc3%5Cu3011+%5Cu5df2%5Cu53d1%5Cu51fa+%5Cu4e0b%5Cu4e00%5Cu7ad9+%5Cu3010%5Cu4e0a%5Cu6d77%5Cu8f6c%5Cu8fd0%5Cu4e2d%5Cu5fc3%5Cu3011%22%7D%2C%7B%22LogID%22%3A%222676894%22%2C%22TrackingID%22%3A%22WSE1012673441%22%2C%22OrderID%22%3A%226019%22%2C%22ExpressNo%22%3A%22807549911579%22%2C%22Status%22%3A%2212.1%22%2C%22Createtime%22%3A%222016-08-22+22%3A42%3A57%22%2C%22Remark%22%3A%22%5Cu3010%5Cu6d66%5Cu4e1c%5Cu8f6c%5Cu8fd0%5Cu4e2d%5Cu5fc3%5Cu3011+%5Cu5df2%5Cu6536%5Cu5165%22%7D%2C%7B%22LogID%22%3A%222676895%22%2C%22TrackingID%22%3A%22WSE1012673441%22%2C%22OrderID%22%3A%226019%22%2C%22ExpressNo%22%3A%22807549911579%22%2C%22Status%22%3A%2212.1%22%2C%22Createtime%22%3A%222016-08-22+22%3A43%3A50%22%2C%22Remark%22%3A%22%5Cu3010%5Cu6d66%5Cu4e1c%5Cu8f6c%5Cu8fd0%5Cu4e2d%5Cu5fc3%5Cu3011+%5Cu5df2%5Cu53d1%5Cu51fa+%5Cu4e0b%5Cu4e00%5Cu7ad9+%5Cu3010%5Cu4e0a%5Cu6d77%5Cu8f6c%5Cu8fd0%5Cu4e2d%5Cu5fc3%5Cu3011%22%7D%2C%7B%22LogID%22%3A%222676891%22%2C%22TrackingID%22%3A%22WSE1012672973%22%2C%22OrderID%22%3A%225960%22%2C%22ExpressNo%22%3A%22807549911481%22%2C%22Status%22%3A%2212.1%22%2C%22Createtime%22%3A%222016-08-22+23%3A17%3A15%22%2C%22Remark%22%3A%22%5Cu3010%5Cu4e0a%5Cu6d77%5Cu8f6c%5Cu8fd0%5Cu4e2d%5Cu5fc3%5Cu3011+%5Cu5df2%5Cu6536%5Cu5165%22%7D%2C%7B%22LogID%22%3A%222676709%22%2C%22TrackingID%22%3A%22WSE1012675854%22%2C%22OrderID%22%3A%226328%22%2C%22ExpressNo%22%3A%22807549912097%22%2C%22Status%22%3A%2212.1%22%2C%22Createtime%22%3A%222016-08-22+23%3A25%3A39%22%2C%22Remark%22%3A%22%5Cu3010%5Cu4e0a%5Cu6d77%5Cu8f6c%5Cu8fd0%5Cu4e2d%5Cu5fc3%5Cu3011+%5Cu5df2%5Cu6536%5Cu5165%22%7D%2C%7B%22LogID%22%3A%222676710%22%2C%22TrackingID%22%3A%22WSE1012675854%22%2C%22OrderID%22%3A%226328%22%2C%22ExpressNo%22%3A%22807549912097%22%2C%22Status%22%3A%2212.1%22%2C%22Createtime%22%3A%222016-08-22+23%3A29%3A11%22%2C%22Remark%22%3A%22%5Cu3010%5Cu4e0a%5Cu6d77%5Cu8f6c%5Cu8fd0%5Cu4e2d%5Cu5fc3%5Cu3011+%5Cu5df2%5Cu53d1%5Cu51fa+%5Cu4e0b%5Cu4e00%5Cu7ad9+%5Cu3010%5Cu6210%5Cu90fd%5Cu8f6c%5Cu8fd0%5Cu4e2d%5Cu5fc3%5Cu3011%22%7D%2C%7B%22LogID%22%3A%222682414%22%2C%22TrackingID%22%3A%22WSE1012693225%22%2C%22OrderID%22%3A%226543%22%2C%22ExpressNo%22%3A%225530020299565%22%2C%22Status%22%3A%223%22%2C%22Createtime%22%3A%222016-08-23+00%3A00%3A54%22%2C%22Remark%22%3A%22%5B%5Cu7f8e%5Cu56fd%5Cu4ed3%5D%5Cu60a8%5Cu7684%5Cu5b9d%5Cu8d1d%5Cu6b63%5Cu5728%5Cu5907%5Cu8d27%5Cu4e2d%22%7D%2C%7B%22LogID%22%3A%222682413%22%2C%22TrackingID%22%3A%22WSE1012693214%22%2C%22OrderID%22%3A%226536%22%2C%22ExpressNo%22%3A%225530020299559%22%2C%22Status%22%3A%223%22%2C%22Createtime%22%3A%222016-08-23+00%3A00%3A54%22%2C%22Remark%22%3A%22%5B%5Cu7f8e%5Cu56fd%5Cu4ed3%5D%5Cu60a8%5Cu7684%5Cu5b9d%5Cu8d1d%5Cu6b63%5Cu5728%5Cu5907%5Cu8d27%5Cu4e2d%22%7D%2C%7B%22LogID%22%3A%222676704%22%2C%22TrackingID%22%3A%22WSE1012675666%22%2C%22OrderID%22%3A%226265%22%2C%22ExpressNo%22%3A%22807549912089%22%2C%22Status%22%3A%2212.1%22%2C%22Createtime%22%3A%222016-08-23+01%3A15%3A39%22%2C%22Remark%22%3A%22%5Cu3010%5Cu4e0a%5Cu6d77%5Cu8f6c%5Cu8fd0%5Cu4e2d%5Cu5fc3%5Cu3011+%5Cu5df2%5Cu6536%5Cu5165%22%7D%2C%7B%22LogID%22%3A%222676884%22%2C%22TrackingID%22%3A%22WSE1012672693%22%2C%22OrderID%22%3A%225935%22%2C%22ExpressNo%22%3A%22807549911436%22%2C%22Status%22%3A%2212.1%22%2C%22Createtime%22%3A%222016-08-23+01%3A15%3A39%22%2C%22Remark%22%3A%22%5Cu3010%5Cu4e0a%5Cu6d77%5Cu8f6c%5Cu8fd0%5Cu4e2d%5Cu5fc3%5Cu3011+%5Cu5df2%5Cu6536%5Cu5165%22%7D%2C%7B%22LogID%22%3A%222676705%22%2C%22TrackingID%22%3A%22WSE1012675666%22%2C%22OrderID%22%3A%226265%22%2C%22ExpressNo%22%3A%22807549912089%22%2C%22Status%22%3A%2212.1%22%2C%22Createtime%22%3A%222016-08-23+01%3A17%3A21%22%2C%22Remark%22%3A%22%5Cu3010%5Cu4e0a%5Cu6d77%5Cu8f6c%5Cu8fd0%5Cu4e2d%5Cu5fc3%5Cu3011+%5Cu5df2%5Cu53d1%5Cu51fa+%5Cu4e0b%5Cu4e00%5Cu7ad9+%5Cu3010%5Cu6210%5Cu90fd%5Cu8f6c%5Cu8fd0%5Cu4e2d%5Cu5fc3%5Cu3011%22%7D%2C%7B%22LogID%22%3A%222676885%22%2C%22TrackingID%22%3A%22WSE1012672693%22%2C%22OrderID%22%3A%225935%22%2C%22ExpressNo%22%3A%22807549911436%22%2C%22Status%22%3A%2212.1%22%2C%22Createtime%22%3A%222016-08-23+01%3A17%3A21%22%2C%22Remark%22%3A%22%5Cu3010%5Cu4e0a%5Cu6d77%5Cu8f6c%5Cu8fd0%5Cu4e2d%5Cu5fc3%5Cu3011+%5Cu5df2%5Cu53d1%5Cu51fa+%5Cu4e0b%5Cu4e00%5Cu7ad9+%5Cu3010%5Cu6210%5Cu90fd%5Cu8f6c%5Cu8fd0%5Cu4e2d%5Cu5fc3%5Cu3011%22%7D%2C%7B%22LogID%22%3A%222676896%22%2C%22TrackingID%22%3A%22WSE1012673441%22%2C%22OrderID%22%3A%226019%22%2C%22ExpressNo%22%3A%22807549911579%22%2C%22Status%22%3A%2212.1%22%2C%22Createtime%22%3A%222016-08-23+01%3A42%3A16%22%2C%22Remark%22%3A%22%5Cu3010%5Cu4e0a%5Cu6d77%5Cu8f6c%5Cu8fd0%5Cu4e2d%5Cu5fc3%5Cu3011+%5Cu5df2%5Cu6536%5Cu5165%22%7D%2C%7B%22LogID%22%3A%222676897%22%2C%22TrackingID%22%3A%22WSE1012673441%22%2C%22OrderID%22%3A%226019%22%2C%22ExpressNo%22%3A%22807549911579%22%2C%22Status%22%3A%2212.1%22%2C%22Createtime%22%3A%222016-08-23+01%3A43%3A33%22%2C%22Remark%22%3A%22%5Cu3010%5Cu4e0a%5Cu6d77%5Cu8f6c%5Cu8fd0%5Cu4e2d%5Cu5fc3%5Cu3011+%5Cu5df2%5Cu53d1%5Cu51fa+%5Cu4e0b%5Cu4e00%5Cu7ad9+%5Cu3010%5Cu592a%5Cu539f%5Cu8f6c%5Cu8fd0%5Cu4e2d%5Cu5fc3%5Cu3011%22%7D%5D%7D';
        //接收参数
        $post_data = json_decode(urldecode($_POST['EData']),true);
        //写入日志
        $log = new Log('receiveTacking/'.date("Y-m-d").'_Tracking.log');
        $log->write('接收内容: '.$_POST['EData']);
        if($post_data){
            $this->load->model('account/order');
            //存入记录表
            $num = 0;
            foreach ($post_data['Orders'] as $order){
                //查询订单是否在中银
                if(!empty($this->model_account_order->getOneOrder($order['OrderID']))){
                    $num++;
                    $log->write('更新内容('.$num.') 【  order_id:'.$order['OrderID'].',status: '.$order['Status'].',TackingNo:'.$order['TrackingID'].',Remark:'.$order['Remark'].'】');
                    //写入物流记录
                    $history = array();
                    $history['order_id'] = $order['OrderID'];
                    $history['trackingno'] = $order['TrackingID'];
                    $history['status'] = $order['Status'];
                    $history['remark'] = $order['Remark'];
                    $history['createtime'] = $order['Createtime'];
                    $history['receivetime'] = date('Y-m-d H:i:s');
                    $history['expressno'] = $order['ExpressNo'];
                    $hisRow = $this->model_account_order->insertTackingHistory($history);
                    if($hisRow){
                        /* if(in_array($order['Status'], array(13))){
                            //签收完成
                            $this->model_account_order->editOrderStatus($order['OrderID'],'5','物流接口修改:物流状态国内配送已签收');
                        }elseif(in_array($order['Status'], array(14))){
                            //拒签
                            $this->model_account_order->editOrderStatus($order['OrderID'],'14','物流接口修改:国内配送拒签');
                        } */
                        //更新order表
                        $upROW = $this->model_account_order->updateOrderTacking($order['OrderID'],$order['Status']);
                        if(!$upROW){
                            $this->fails[]['LogID'] = $order['LogID'];
                        }
                    }else{
                        $this->fails[]['LogID'] = $order['LogID'];
                    }
                }else{
                    $this->fails[]['LogID'] = $order['LogID'];
                }
                
            }
            $log->write('保存失败: '.json_encode($this->fails));
            if(empty($this->fails)){
                //返回
                $returnData = array();
                $returnData['rtnCode'] = '000000';
                $returnData['rtnDesc'] = '成功返回';
                $log->write('返回信息: '.json_encode($returnData));
                echo json_encode($returnData);
            }else{
                $returnData = array();
                $returnData['rtnCode'] = '000001';
                $returnData['rtnDesc'] = '保存失败';
                $returnData['rtnList'] = $this->fails;
                $log->write('返回信息: '.json_encode($returnData));
                echo json_encode($returnData);
            }
        }else{
            //返回
            $returnData = array();
            $returnData['rtnCode'] = '000001';
            $returnData['rtnDesc'] = '解析失败';
            $returnData['rtnList'] = array();
            $log->write('返回信息: '.json_encode($returnData));
            echo json_encode($returnData);
        }
    }
}